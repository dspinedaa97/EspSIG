iniciar-programa
	define-nueva-instruccion gira-derecha como inicio
    	repetir 3 veces inicio
        	gira-izquierda;
        fin;
    fin;
	define-nueva-instruccion comprueba como inicio
    	si frente-libre entonces inicio
          avanza;
          si izquierda-libre entonces inicio          
            gira-izquierda;
          fin;  
          avanza;
          si izquierda-libre entonces inicio
            gira-izquierda;
          fin;  
          si frente-bloqueado entonces inicio
          	apagate;
          fin;
          avanza;
          si izquierda-libre entonces inicio
            gira-izquierda;
          fin;
          si frente-bloqueado entonces inicio
          apagate;
          fin;
          avanza;
          si izquierda-libre entonces inicio
          gira-izquierda;
          fin;
          avanza;
        fin;   
    fin;

    inicia-ejecucion
    	{ Hacer que karel inicie siempre mirando al norte }
        mientras no-orientado-al-norte hacer inicio
        	gira-izquierda;
        fin;
        { inicia a buscar la pared haciendo comprobaciones }
        mientras frente-libre hacer inicio
        	comprueba;
        fin;
        gira-izquierda;
        {sigue el muro buscando la salida }
        mientras derecha-bloqueada hacer inicio
        	si frente-bloqueado entonces inicio
            	gira-izquierda;
            fin;
        	avanza;
        fin;
        { comprueba salida y apaga }
        gira-derecha;
        comprueba;
        apagate;
    termina-ejecucion
finalizar-programa